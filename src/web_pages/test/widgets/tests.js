function test_paginate(count, per_page, current_page, page_width) {
	return myemsl_paginate_parts(count, per_page, current_page, page_width)['pager'];
}
function comp(a, b) {
	if(a.length != b.length) {
		return false;
	}
	for(var i = 0; i < a.length; i++) {
		if(a[i] != b[i]) {
			return false;
		}
	}
	return true;
}

test("paginator", function() {
	var a = [
		[[0, 25, 1, 8], [1]],
		[[1, 25, 1, 8], [1]],
		[[24, 25, 1, 8], [1]],
		[[25, 25, 1, 8], [1]],
		[[26, 25, 1, 8], [1,2]],
		[[26, 25, 2, 8], [1,2]],
		[[50, 25, 1, 8], [1,2]],
		[[51, 25, 1, 8], [1,2,3]],
		[[75, 25, 1, 8], [1,2,3]],
		[[76, 25, 1, 8], [1,2,3,4]],
		[[100, 25, 1, 8], [1,2,3,4]],
		[[220, 25, 9, 8], [2,3,4,5,6,7,8,9]],
		[[220, 25, 5, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 1, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 2, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 3, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 4, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 5, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 6, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 7, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 8, 8], [1,2,3,4,5,6,7,8]],
		[[200, 25, 1, 3], [1,2,3]],
		[[200, 25, 2, 3], [1,2,3]],
		[[200, 25, 3, 3], [2,3,4]],
		[[200, 25, 4, 3], [3,4,5]],
		[[200, 25, 5, 3], [4,5,6]],
		[[200, 25, 6, 3], [5,6,7]],
		[[200, 25, 7, 3], [6,7,8]],
		[[200, 25, 8, 3], [6,7,8]],
		[[225, 25, 1, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 2, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 3, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 4, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 5, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 6, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 7, 9], [1,2,3,4,5,6,7,8,9]],
		[[225, 25, 8, 9], [1,2,3,4,5,6,7,8,9]],
	];
	for(var i in a) {
		var d = a[i][0];
		var b = a[i][1];
		var c = test_paginate(d[0], d[1], d[2], d[3]);
		ok(comp(b, c), d);
	}
});
